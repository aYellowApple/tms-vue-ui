import Vue from 'vue'
import App from './App.vue'
import ElementUI from 'element-ui'
import 'element-ui/lib/theme-chalk/index.css'
import { Login } from '../lib'
import '../lib/login/style'

Vue.use(ElementUI)
Vue.config.productionTip = false

new Vue({
    render: h => h(App),
    data() {
        return {
            requireItems: {
                nickname: true,
                password: true,
                captcha: true
            }
        }
    },
    methods: {
        getCaptcha: function () {
            let svg = '<svg xmlns="http://www.w3.org/2000/svg" width="150" height="40" viewBox="0,0,150,40"><rect width="100%" height="100%" fill="#eee"></rect><path d="M17 1 C75 32,63 8,146 6" stroke="#5779df" fill="none"></path><path fill="#eb7e5a" d="M46.61 23.61L46.59 23.59L46.75 23.76Q45.03 23.57 43.93 24.84L43.83 24.74L44.01 24.92Q42.91 26.21 42.74 27.91L42.61 27.78L42.58 27.75Q42.48 29.68 43.45 30.55L43.48 30.58L43.37 30.47Q44.29 31.29 46.16 31.19L46.24 31.27L46.28 31.31Q48.14 31.16 49.12 30.55L49.12 30.54L49.02 30.45Q50.10 29.52 50.10 28.13L50.09 28.12L50.17 28.19Q50.06 27.74 49.99 27.40L50.02 27.43L50.10 27.51Q50.08 25.93 49.09 24.72L49.14 24.76L49.07 24.70Q48.16 23.57 46.67 23.67ZM46.20 33.51L46.33 33.64L46.24 33.55Q42.36 33.58 41.10 32.90L41.06 32.85L41.21 33.01Q40.11 32.14 39.94 30.61L40.13 30.80L40.09 30.76Q40.00 30.10 40.04 29.45L40.03 29.44L40.04 29.45Q40.21 28.63 40.21 28.23L40.10 28.12L40.17 28.19Q40.56 25.62 40.70 25.01L40.73 25.05L40.75 25.06Q41.12 23.29 41.87 22.03L41.86 22.03L41.94 22.10Q44.21 18.09 49.51 12.41L49.55 12.45L49.60 12.50Q52.00 12.24 53.97 11.53L53.85 11.41L53.77 11.34Q47.77 18.11 44.91 21.88L44.92 21.89L44.91 21.88Q45.86 21.51 47.02 21.51L46.95 21.44L46.87 21.36Q49.87 21.40 51.22 23.13L51.23 23.13L51.25 23.16Q52.43 24.61 52.74 27.77L52.84 27.87L52.73 27.76Q52.82 28.43 52.82 28.97L52.91 29.06L52.79 28.94Q52.88 31.83 50.91 32.78L50.94 32.80L50.84 32.71Q49.78 33.27 46.31 33.61ZM48.31 35.72L48.42 35.83L48.32 35.73Q49.55 35.77 51.32 35.83L51.30 35.82L51.16 35.68Q52.79 35.91 54.18 35.27L54.16 35.24L54.19 35.27Q55.12 34.51 55.12 32.91L55.18 32.96L55.15 32.94Q55.17 32.52 55.02 31.63L54.90 31.52L54.90 31.52Q54.82 30.71 54.82 30.30L54.71 30.19L54.88 30.35Q53.97 26.02 52.55 24.32L52.62 24.39L52.58 24.35Q52.52 24.26 52.38 24.05L52.43 24.10L52.07 23.81L52.10 23.87L52.12 23.89Q51.75 23.39 51.21 22.54L51.26 22.59L51.20 22.53Q50.29 21.59 48.52 21.18L48.59 21.24L48.51 21.17Q49.71 19.85 52.36 16.55L52.34 16.53L56.15 11.84L56.16 11.85Q54.63 12.50 52.49 13.18L52.50 13.19L52.52 13.21Q53.40 12.39 55.00 10.62L55.06 10.68L54.90 10.52Q52.83 11.55 49.36 12.06L49.43 12.12L49.44 12.13Q44.38 17.45 41.73 21.86L41.63 21.76L41.62 21.75Q40.26 24.00 39.75 29.57L39.67 29.49L39.74 29.56Q39.68 30.07 39.74 30.92L39.77 30.95L39.79 30.97Q39.91 32.59 40.90 33.40L40.73 33.23L40.90 33.41Q41.16 33.47 41.13 33.50L41.18 33.55L41.08 33.44Q41.46 34.30 42.17 34.68L42.11 34.62L42.26 34.77Q43.44 35.27 45.18 35.44L45.28 35.55L45.24 35.50Q45.30 35.56 48.43 35.83ZM48.05 25.63L48.16 25.74L48.05 25.64Q48.68 25.65 49.53 26.10L49.45 26.01L49.41 25.97Q49.89 26.99 49.89 27.57L49.81 27.49L49.76 27.45Q49.95 29.13 49.10 30.02L49.13 30.05L49.04 29.95Q48.24 30.75 46.37 31.02L46.22 30.87L46.20 30.86Q44.94 30.88 44.46 30.64L44.62 30.81L44.59 30.77Q44.26 30.21 44.26 29.93L44.26 29.93L44.37 30.04Q44.19 27.14 46.81 25.99L46.71 25.89L46.71 25.90Q47.43 25.62 48.11 25.69Z"></path><path d="M7 27 C76 3,75 28,130 32" stroke="#9be650" fill="none"></path><path fill="#5f956c" d="M72.72 32.94L72.64 32.87L72.69 32.92Q72.05 32.85 71.44 32.89L71.44 32.88L71.38 32.82Q70.75 32.91 70.14 32.91L70.28 33.06L70.30 33.07Q70.54 29.85 70.54 26.79L70.53 26.78L70.67 26.91Q69.00 26.92 68.19 26.92L68.11 26.83L68.12 26.85Q67.48 26.96 65.85 26.89L65.72 26.76L65.76 26.81Q65.83 26.59 65.66 24.38L65.55 24.28L65.55 24.28Q67.84 24.76 70.49 24.76L70.61 24.89L70.58 24.86Q70.33 20.91 69.96 18.59L69.89 18.52L69.95 18.58Q70.73 18.76 71.45 18.76L71.49 18.80L72.82 18.67L72.82 18.67Q72.72 22.58 72.72 24.89L72.72 24.88L72.69 24.86Q74.69 24.92 77.54 24.61L77.48 24.55L77.47 24.54Q77.27 25.63 77.27 26.72L77.26 26.71L77.33 26.78Q77.04 26.73 76.33 26.76L76.32 26.76L76.44 26.88Q75.50 26.82 74.96 26.85L74.89 26.78L74.94 26.84Q74.98 26.87 72.60 26.87L72.58 26.86L72.50 29.84L72.60 29.94Q72.50 31.29 72.60 32.82ZM77.74 24.00L77.81 24.06L77.81 24.07Q76.08 24.30 74.41 24.37L74.45 24.41L74.47 24.43Q74.60 21.54 74.98 19.87L75.01 19.91L75.02 19.91Q74.52 20.10 73.27 20.24L73.07 20.04L73.39 18.36L73.29 18.25Q71.00 18.31 69.51 18.21L69.56 18.27L69.52 18.22Q70.09 21.07 70.26 24.54L70.29 24.57L70.28 24.55Q68.66 24.47 65.37 23.93L65.19 23.75L65.21 23.77Q65.44 24.82 65.44 27.16L65.51 27.23L66.89 27.26L66.91 27.28Q66.84 27.84 66.70 29.10L66.72 29.13L70.34 28.97L70.37 29.00Q70.13 31.79 69.86 33.42L69.87 33.42L69.90 33.45Q70.51 33.39 71.77 33.29L71.70 33.21L71.64 33.16Q71.76 33.88 71.72 35.07L71.78 35.13L71.69 35.04Q72.12 34.99 75.35 35.13L75.36 35.14L75.38 35.16Q74.55 32.39 74.34 28.86L74.48 29.00L74.32 28.83Q77.37 29.00 79.24 29.34L79.21 29.30L79.12 29.22Q79.00 28.42 79.00 27.57L79.07 27.64L79.01 25.87L79.05 25.91Q78.89 25.97 78.42 26.00L78.32 25.90L77.59 25.88L77.61 25.90Q77.63 25.21 77.74 23.99Z"></path><path fill="#84d968" d="M120.68 23.69L120.70 23.71L120.75 23.76Q119.14 23.81 118.05 25.00L118.04 24.99L117.91 24.86Q116.88 26.10 116.74 27.80L116.76 27.82L116.74 27.80Q116.50 29.63 117.59 30.54L117.69 30.64L117.61 30.56Q118.81 31.57 120.72 31.51L120.60 31.39L120.72 31.51Q122.75 31.33 123.60 30.48L123.63 30.51L123.51 30.39Q124.50 29.17 124.39 27.54L124.32 27.47L124.47 27.62Q124.25 25.83 123.28 24.75L123.31 24.78L123.27 24.74Q122.45 23.82 120.82 23.82ZM120.63 15.24L120.65 15.26L120.78 15.39Q119.42 15.19 118.23 15.63L118.19 15.59L118.33 15.72Q117.08 16.35 117.29 18.01L117.39 18.12L117.33 18.06Q117.65 21.27 120.64 21.27L120.79 21.42L120.82 21.45Q122.13 21.53 123.01 20.51L122.91 20.41L123.03 20.53Q123.82 19.41 123.85 18.02L123.98 18.15L123.97 18.14Q124.09 16.63 123.45 16.09L123.37 16.01L123.30 15.94Q121.94 15.33 120.79 15.40ZM120.50 33.70L120.45 33.66L117.72 33.64L117.67 33.59Q116.39 33.67 115.20 32.89L115.15 32.84L115.20 32.89Q114.04 31.93 114.18 29.38L114.07 29.28L114.13 29.34Q114.47 23.15 117.70 22.27L117.72 22.29L117.80 22.37Q115.70 21.50 114.51 16.70L114.42 16.61L114.53 16.72Q114.18 15.42 114.25 14.70L114.23 14.68L114.33 14.79Q114.57 12.85 117.87 12.82L117.81 12.76L117.81 12.76Q121.64 12.75 122.93 12.92L122.86 12.85L122.84 12.83Q126.29 13.32 126.69 15.12L126.73 15.16L126.66 15.09Q126.77 15.63 126.77 15.97L126.86 16.06L126.90 16.10Q126.87 16.69 126.70 17.23L126.64 17.17L126.69 17.23Q126.17 21.02 123.56 22.38L123.51 22.33L123.53 22.35Q126.55 22.96 126.99 27.69L127.08 27.77L127.10 27.80Q127.13 27.96 127.16 29.11L127.22 29.17L127.17 29.12Q127.14 31.47 125.71 32.42L125.82 32.53L125.71 32.42Q124.44 33.16 120.36 33.57ZM122.42 35.66L122.59 35.83L125.42 35.73L125.55 35.86Q127.00 35.85 128.36 35.20L128.43 35.28L128.40 35.24Q129.48 34.66 129.55 32.99L129.40 32.85L129.51 32.95Q129.46 31.89 129.12 30.16L129.16 30.20L129.17 30.21Q128.30 26.00 126.43 24.34L126.42 24.33L126.29 24.03L126.12 23.79L126.06 23.63L126.07 23.63Q127.40 22.28 128.22 18.58L128.18 18.54L128.22 18.58Q128.19 18.22 128.26 17.47L128.41 17.62L128.30 17.50Q128.39 16.91 128.32 16.37L128.40 16.45L128.31 16.36Q128.14 15.04 127.09 14.59L127.17 14.68L127.12 14.59L127.12 14.66L126.95 14.49Q126.75 13.88 125.69 13.17L125.79 13.26L125.72 13.16L125.82 13.26Q124.04 12.63 120.40 12.46L120.38 12.44L120.45 12.52Q118.97 12.32 117.74 12.42L117.81 12.49L117.82 12.50Q117.00 12.42 115.84 12.56L115.90 12.61L115.85 12.57Q114.14 12.93 113.94 14.39L113.99 14.44L113.84 14.29Q113.83 14.77 113.87 15.48L113.97 15.58L113.84 15.46Q114.05 16.03 114.56 18.14L114.59 18.18L114.61 18.19Q115.23 20.99 116.79 22.18L116.73 22.11L116.99 22.37L116.95 22.34Q114.34 23.37 113.87 27.99L113.98 28.10L113.93 28.05Q113.78 30.04 113.78 30.85L113.82 30.90L113.85 30.93Q113.90 32.51 114.96 33.33L114.96 33.33L114.89 33.26Q115.00 33.33 115.24 33.50L115.13 33.40L115.18 33.45Q116.22 35.61 122.58 35.81ZM122.21 25.86L122.29 25.94L122.12 25.78Q123.02 25.79 123.80 26.19L123.74 26.13L123.82 26.21Q124.11 27.05 124.07 27.52L124.09 27.54L124.17 27.62Q124.05 27.74 124.05 28.01L124.10 28.06L124.22 28.18Q124.04 30.10 122.00 30.85L122.07 30.92L122.08 30.93Q121.32 31.16 120.61 31.05L120.61 31.06L120.60 31.05Q119.58 31.12 118.56 30.71L118.74 30.89L118.63 30.78Q118.46 30.27 118.53 29.38L118.57 29.43L118.47 29.32Q118.55 27.84 119.62 26.76L119.73 26.86L119.68 26.81Q120.81 25.79 122.24 25.89ZM122.37 17.35L122.44 17.42L122.44 17.42Q123.19 17.36 123.66 17.49L123.65 17.48L123.55 18.09L123.56 18.11Q123.60 19.40 122.78 20.30L122.71 20.22L122.80 20.32Q122.02 21.25 120.79 21.08L120.82 21.10L120.72 21.01Q119.84 21.01 119.46 20.80L119.38 20.72L119.53 20.87Q119.52 20.65 119.42 20.04L119.27 19.90L119.40 20.03Q119.16 18.76 120.24 18.02L120.23 18.00L120.29 18.06Q121.08 17.29 122.34 17.32Z"></path><path fill="#e4e439" d="M22.69 18.66L22.67 18.63L22.71 18.67Q19.82 18.63 18.19 17.68L18.13 17.63L18.20 17.69Q20.33 16.36 24.68 12.59L24.75 12.66L24.66 12.57Q25.43 12.52 26.59 11.98L26.52 11.92L26.53 11.92Q25.34 17.22 25.23 22.90L25.15 22.82L25.15 22.81Q25.20 28.64 26.16 34.08L25.99 33.92L25.99 33.92Q24.62 33.40 22.72 33.30L22.60 33.18L22.66 33.23Q22.62 29.60 22.62 25.96L22.59 25.93L22.63 25.97Q22.58 22.24 22.61 18.57ZM22.21 20.52L22.22 33.55L22.35 33.68Q23.44 33.68 24.29 33.85L24.26 33.82L24.19 33.74Q24.19 34.29 24.36 35.51L24.46 35.62L24.43 35.58Q27.03 36.11 29.20 38.12L29.10 38.01L29.26 38.18Q26.95 31.72 26.92 25.05L26.88 25.01L26.99 25.13Q26.78 18.33 28.41 11.87L28.53 11.98L28.49 11.95Q27.99 12.30 26.57 13.28L26.58 13.30L26.53 13.25Q26.83 12.70 27.10 11.34L27.03 11.27L27.08 11.31Q25.80 11.90 24.51 12.24L24.56 12.30L24.62 12.36Q21.09 15.39 17.25 17.43L17.42 17.60L17.29 17.47Q18.68 18.58 20.79 18.89L20.80 18.91L20.72 18.82Q20.10 19.26 18.95 20.21L19.07 20.33L19.00 20.26Q20.28 20.56 22.25 20.56L22.37 20.67Z"></path><path fill="#ade871" d="M96.61 18.57L96.53 18.49L96.65 18.61Q93.67 18.49 92.04 17.54L92.12 17.62L92.07 17.57Q94.44 16.47 98.79 12.70L98.68 12.59L98.79 12.70Q99.43 12.52 100.59 11.98L100.47 11.86L100.62 12.01Q99.24 17.12 99.13 22.80L99.31 22.97L99.17 22.83Q99.17 28.61 100.12 34.05L100.10 34.03L100.11 34.04Q98.60 33.38 96.70 33.28L96.72 33.30L96.63 33.21Q96.53 29.50 96.53 25.87L96.58 25.92L96.54 25.88Q96.65 22.31 96.68 18.64ZM96.17 20.48L96.18 33.50L96.17 33.50Q97.28 33.52 98.13 33.69L98.21 33.77L98.11 33.67Q98.18 34.28 98.35 35.50L98.47 35.63L98.41 35.57Q100.95 36.03 103.13 38.04L103.19 38.11L103.14 38.05Q100.93 31.69 100.89 25.03L100.99 25.13L100.92 25.05Q100.85 18.39 102.48 11.93L102.42 11.87L102.40 11.86Q102.02 12.32 100.59 13.31L100.56 13.28L100.53 13.25Q100.74 12.61 101.01 11.25L101.10 11.34L100.99 11.22Q99.77 11.88 98.48 12.22L98.63 12.37L98.46 12.19Q95.26 15.56 91.42 17.60L91.39 17.57L91.24 17.42Q92.56 18.47 94.67 18.77L94.79 18.89L94.64 18.74Q94.22 19.38 93.07 20.33L92.91 20.18L92.90 20.16Q94.39 20.67 96.36 20.67L96.31 20.62Z"></path></svg>'
            return svg
        },
        getToken: function () {
            setTimeout(() => {
                return "20190909"
            }, 1000)
        }
    },
    mounted() {
        let modalEle = document.createElement('div')
        modalEle.setAttribute('id', 'login')
        document.body.appendChild(modalEle)

        var compLogin = new Login({nickname: true,password: true,captcha: true}, this.getCaptcha, this.getToken).component
        const TmsLogin = Vue.extend(compLogin)
        const message = new TmsLogin().$mount("#login")
    }
}).$mount('#app')